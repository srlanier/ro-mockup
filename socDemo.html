<html lang="en">
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Demo</title>
  <!-- Load Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Use Inter font family -->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    h1 {
      font-family: 'Oswald', sans-serif;
    }
     p {
      font-family: 'Merriweather', serif;
    }
    /* Custom styles for icons */
    .search-icon {
      width: 1.5rem;
      height: 1.5rem;
    }
    .filter-icon {
      width: 1.75rem;
      height: 1.75rem;
    }
    /* Custom class for smooth dropdown transition */
    .dropdown-panel {
      transition: opacity 0.3s ease-out, transform 0.3s ease-out;
      transform-origin: top;
    }
    .dropdown-panel.hidden {
      opacity: 0;
      transform: translateY(-10px) scaleY(0.95);
      pointer-events: none;
    }
    /* Removed custom row background colors to default to white */
  </style>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'primary-bg': '#fef4ea', /* Pale Cream */
            'accent-red': '#ba0c2f', /* Crimson Red */
            'dark-text': '#4a4a4a', /* Dark Gray */
          }
        }
      }
    }
  </script>
</head>
<body class="bg-primary-bg">

<!-- Navigation loaded from partial -->
<div id="navbar-placeholder"></div>

<!-- Spacer for fixed navbar -->
<div style="height: 90px;"></div>

<!-- Hero Section: ~70% of the viewport height (Heavy Top) -->
<header class="h-[70vh] flex flex-col justify-center items-center p-4">
  <p class="text-xl sm:text-3xl text-dark-text/70 mb-0 text-center max-w-4xl ">
    Schedule of Classes
  </p>
  <h1 class="text-5xl sm:text-7xl font-extrabold text-dark-text mb-8 text-center leading-tight">
    SPRING 2026
  </h1>



  <!-- Big Search Bar & Dropdown Container -->
  <div class="w-full max-w-4xl px-6 relative" id="search-container">

    <!-- Main Search Bar -->
    <div class="flex shadow-2xl rounded-2xl overflow-hidden ring-4 ring-primary-bg/50 transition-all duration-300 hover:shadow-3xl z-10 relative">

      <!-- Filter Toggle Button -->
      <button
              id="filter-toggle"
              class="flex items-center justify-center bg-white border-r border-gray-200 text-dark-text hover:bg-gray-50 transition-colors duration-200 px-6 sm:px-8"
              aria-label="Toggle filters"
              onclick="toggleFilterDropdown()"
      >
        <!-- Settings/Filter Icon -->
        <svg class="filter-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7h16M4 12h16M4 17h16M8 7H4M18 12h2M6 17H4"/>
          <circle cx="16" cy="7" r="2" fill="currentColor" stroke="none"/>
          <circle cx="8" cy="12" r="2" fill="currentColor" stroke="none"/>
          <circle cx="12" cy="17" r="2" fill="currentColor" stroke="none"/>
        </svg>

      </button>

      <!-- Input Field (Kept for visual consistency, though not used in this demo logic) -->
      <input
              type="text"
              placeholder="Search for a class (e.g. ENGL 1101)"
              aria-label="Search field"
              class="flex-grow py-5 px-8 text-dark-text text-xl placeholder:text-dark-text/40 focus:outline-none focus:ring-0 bg-white"
      >

      <!-- Search Button (Accent Red) -->
      <button
              class="flex items-center justify-center bg-accent-red hover:bg-[#a00b2a] transition-colors duration-300 px-8 sm:px-12"
              aria-label="Submit search"
      >
        <!-- Magnifying Glass Icon (White) -->
        <svg class="search-icon text-white w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
        </svg>
      </button>
    </div>

    <!-- Filter Dropdown Panel -->
    <div id="filter-dropdown" class="dropdown-panel hidden absolute w-full mt-2 bg-white rounded-2xl shadow-2xl p-4 border border-gray-100 z-0">
      <p class="text-dark-text text-lg font-semibold mb-3 border-b pb-2 border-gray-100">Filter Options:</p>
      <div class="space-y-3">
        <!-- Filter 1: REMOVAL FILTER -->
        <div class="flex items-center space-x-3">
          <input type="checkbox" id="hide-full-filter" onchange="updateDemo()" class="h-5 w-5 rounded border-gray-300 text-accent-red focus:ring-accent-red">
          <label for="hide-full-filter" class="text-dark-text text-base cursor-pointer">
            Hide full classes (Available equal 0 || Waitlist greater 0)
          </label>
        </div>

        <!-- Filter 2: HIGHLIGHT FILTER -->
        <div class="flex items-center space-x-3">
          <input type="checkbox" id="highlight-zero-available-filter" onchange="updateDemo()" class="h-5 w-5 rounded border-gray-300 text-accent-red focus:ring-accent-red">
          <label for="highlight-zero-available-filter" class="text-dark-text text-base cursor-pointer">
            Highlight zero available (Available equal 0)
          </label>
        </div>

        <!-- Filter 3: VISUAL REPLACEMENT FILTER -->
        <div class="flex items-center space-x-3">
          <input type="checkbox" id="mark-zero-full-filter" onchange="updateDemo()" class="h-5 w-5 rounded border-gray-300 text-accent-red focus:ring-accent-red">
          <label for="mark-zero-full-filter" class="text-dark-text text-base cursor-pointer">
            Mark 0 Available as "FULL"
          </label>
        </div>

        <!-- Filter 4: LAYOUT CHANGE FILTER -->
        <div class="flex items-center space-x-3">
          <input type="checkbox" id="waitlist-as-pill-filter" onchange="updateDemo()" class="h-5 w-5 rounded border-gray-300 text-accent-red focus:ring-accent-red">
          <label for="waitlist-as-pill-filter" class="text-dark-text text-base cursor-pointer">
            Waitlist as inline pill
          </label>
        </div>
      </div>
    </div>
  </div>
</header>
<!-- Data Set Selectors -->

<!-- Content Block: ~30% of the viewport height (Blank White) -->
<main class="min-h-[30vh] bg-white border-t-8 border-[#4a4a4a]/10 p-8 shadow-inner">
  <div id="class-table-container" class="max-w-4xl mx-auto overflow-x-auto shadow-lg rounded-lg">
    <!-- Table will be rendered here by JavaScript -->
  </div>
  <div class="flex space-x-4 mb-8 mt-10 justify-center items-center">
    <button
            id="data-a-btn"
            onclick="setDataSet('Unadjusted')"
            class="px-5 py-2 rounded-full font-semibold transition-colors duration-200 shadow-md data-set-button bg-accent-red text-white hover:bg-[#a00b2a]"
    >
      Unadjusted
    </button>
    <button
            id="data-b-btn"
            onclick="setDataSet('Adjusted')"
            class="px-5 py-2 rounded-full font-semibold transition-colors duration-200 shadow-md data-set-button bg-white text-dark-text hover:bg-gray-100"
    >
      Adjusted
    </button>
  </div>
  <p class="text-center text-dark-text/50 pt-6 mt-4 text-sm">Use the buttons above to switch data sets and apply the filters.</p>
</main>

<script>
  // --- DATA DEFINITIONS ---
  // classDataA is now "Unadjusted"
  const classDataA = [
    { name: "Class A", max: 30, available: 0, waitlist: 7 },
    { name: "Class B", max: 180, available: 3, waitlist: 12 },
    { name: "Class C", max: 45, available: 10, waitlist: 0 },
    { name: "Class D", max: 300, available: 12, waitlist: 10 },
    { name: "Class E", max: 300, available: 2, waitlist: 1 }
  ];
  // classDataB is now "Adjusted"
  const classDataB = [
    { name: "Class A", max: 30, available: 0, waitlist: 7 },
    { name: "Class B", max: 180, available: 0, waitlist: 9 },
    { name: "Class C", max: 45, available: 10, waitlist: 0 },
    { name: "Class D", max: 300, available: 2, waitlist: 0 },
    { name: "Class E", max: 300, available: 1, waitlist: 0 }
  ];

  // Initial state set to the new default label
  let currentDataSet = 'Unadjusted';

  // --- UI & STATE MANAGEMENT ---

  function toggleFilterDropdown() {
    const dropdown = document.getElementById('filter-dropdown');
    dropdown.classList.toggle('hidden');
  }

  // Close dropdown when clicking outside
  document.addEventListener('click', function(event) {
    const container = document.getElementById('search-container');
    const dropdown = document.getElementById('filter-dropdown');
    const toggleButton = document.getElementById('filter-toggle');

    if (!container.contains(event.target) && !dropdown.classList.contains('hidden')) {
      // Check if the click is outside the container (which includes the dropdown)
      if (event.target !== toggleButton && !toggleButton.contains(event.target)) {
        dropdown.classList.add('hidden');
      }
    }
  });

  function setDataSet(dataSet) {
    currentDataSet = dataSet;

    const btnA = document.getElementById('data-a-btn');
    const btnB = document.getElementById('data-b-btn');
    const label = document.getElementById('data-set-label');

    const isUnadjusted = dataSet === 'Unadjusted';

    // ADDED SAFETY CHECK: Only attempt to update button styles if both elements exist.
    if (btnA && btnB) {
      // Update button styles
      if (isUnadjusted) {
        btnA.classList.add('bg-accent-red', 'text-white', 'hover:bg-[#a00b2a]');
        btnA.classList.remove('bg-white', 'text-dark-text', 'hover:bg-gray-100');
        btnB.classList.remove('bg-accent-red', 'text-white', 'hover:bg-[#a00b2a]');
        btnB.classList.add('bg-white', 'text-dark-text', 'hover:bg-gray-100');
      } else { // Must be 'Adjusted'
        btnB.classList.add('bg-accent-red', 'text-white', 'hover:bg-[#a00b2a]');
        btnB.classList.remove('bg-white', 'text-dark-text', 'hover:bg-gray-100');
        btnA.classList.remove('bg-accent-red', 'text-white', 'hover:bg-[#a00b2a]');
        btnA.classList.add('bg-white', 'text-dark-text', 'hover:bg-gray-100');
      }
    }

    // Update label (if found)
    if (label) {
      label.textContent = dataSet;
    }

    // This is the critical data update line, which now runs even if the style update fails.
    updateDemo();
  }

  function applyFilter(data) {
    const hideFull = document.getElementById('hide-full-filter').checked;

    // Filter logic: Keep only classes where Available > 0 AND Waitlist = 0
    if (hideFull) {
      return data.filter(cls => {
        // isFull is true if available is 0 or less OR waitlist is greater than 0
        const isFull = (cls.available <= 0 || cls.waitlist > 0);
        return !isFull;
      });
    }
    return data; // No removal filter applied
  }

  function renderTable(data) {
    const container = document.getElementById('class-table-container');

    // Get Display Toggle States
    const highlightZero = document.getElementById('highlight-zero-available-filter').checked;
    const markZeroFull = document.getElementById('mark-zero-full-filter').checked;
    const waitlistAsPill = document.getElementById('waitlist-as-pill-filter').checked;

    if (data.length === 0) {
      container.innerHTML = `
                    <p class="text-center text-xl text-dark-text/70 p-10 bg-gray-50 rounded-lg">
                        No classes match the current filter criteria.
                    </p>
                `;
      return;
    }

    // Conditional Header Rendering
    let waitlistHeader = '';
    if (!waitlistAsPill) {
      waitlistHeader = '<th class="py-3 px-4 text-center text-sm font-semibold uppercase tracking-wider">Waitlist</th>';
    }

    let tableHTML = `
                <table class="min-w-full bg-white rounded-lg overflow-hidden">
                    <thead class="bg-dark-text text-white">
                        <tr>
                            <th class="py-3 px-4 text-left text-sm font-semibold uppercase tracking-wider">Class</th>
                            <th class="py-3 px-4 text-center text-sm font-semibold uppercase tracking-wider">Max Seats</th>
                            <th class="py-3 px-4 text-center text-sm font-semibold uppercase tracking-wider">Available</th>
                            ${waitlistHeader}
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
            `;

    data.forEach(cls => {
      // 1. Row Background Logic (Highlight)
      let rowClass = 'bg-white';
      if (highlightZero && cls.available === 0) {
        rowClass = 'bg-gray-200'; // Apply the requested gray background
      }

      // 2. Available Display Logic (FULL/Number)
      let availableDisplay = cls.available;
      // If displaying 'FULL', ensure the color is bold red for the word 'FULL', otherwise neutral dark text
      let availableTextStyle = 'text-dark-text';
      if (markZeroFull && cls.available === 0) {
        availableDisplay = 'FULL';
      }

      // 3. Waitlist Pill / Standard Cell Logic
      let waitlistPill = '';
      let waitlistCell = '';

      if (waitlistAsPill) {
        if (cls.waitlist > 0) {
          waitlistPill = `
<!--                            <span class="inline-flex items-center px-1.5 py-1 rounded-sm text-xs font-medium bg-orange-100 text-orange-800 ml-2 mt-1 whitespace-nowrap">-->
                                                         <span class="inline-flex items-center px-1.5 py-1 rounded-sm text-xs font-medium bg-amber-200 text-gray-800 ml-2 mt-1 whitespace-nowrap">
                                WL: ${cls.waitlist}
                            </span>
                        `;
        }
      } else {
        // Standard Waitlist column - text-dark-text for neutral color
        waitlistCell = `<td class="py-4 px-4 text-center text-dark-text">${cls.waitlist}</td>`;
      }


      tableHTML += `
                    <tr class="${rowClass} hover:bg-gray-100 transition-colors duration-150">
                        <td class="py-4 px-4 text-dark-text font-medium">${cls.name}</td>
                        <td class="py-4 px-4 text-center text-dark-text">${cls.max}</td>
                        <td class="py-4 px-4 text-center ${availableTextStyle} flex flex-col sm:flex-row items-center justify-center space-y-1 sm:space-y-0">
                            <span>${availableDisplay}</span>
                            ${waitlistPill}
                        </td>
                        ${waitlistCell}
                    </tr>
                `;
    });

    tableHTML += `
                    </tbody>
                </table>
            `;
    container.innerHTML = tableHTML;
  }

  function updateDemo() {
    // Check against new string value 'Unadjusted' (which corresponds to classDataA)
    let selectedData = currentDataSet === 'Unadjusted' ? classDataA : classDataB;

    // 1. Apply Removal Filter (Must happen before rendering)
    const filteredData = applyFilter(selectedData);

    // 2. Render UI (Applies the highlight and display filters during rendering)
    renderTable(filteredData);
  }

  // Initial setup on window load
  window.onload = function() {
    // Ensure initial state is rendered
    updateDemo();
  };

</script>

<!-- Load Navbar from Partial -->
<script>
  // Load navbar HTML from partial
  fetch('partials/navbar.html')
    .then(response => response.text())
    .then(html => {
      document.getElementById('navbar-placeholder').innerHTML = html;

      // Initialize navbar scripts after loading
      initializeNavbar();
    })
    .catch(error => {
      console.error('Error loading navbar:', error);
    });

  function initializeNavbar() {
    // Set initial logo for interior pages (always use dark logo)
    const logo = document.getElementById('uga-logo');
    if (logo) logo.src = 'images/OfficeRegistrar_logo_Horizontal_FC.png';

    // Alphabetize nav dropdown items
    const dropdownMenus = document.querySelectorAll(".dropdown-menu");
    dropdownMenus.forEach(menu => {
      const links = Array.from(menu.querySelectorAll("a"));
      links.sort((a, b) => a.textContent.localeCompare(b.textContent));
      menu.innerHTML = "";
      links.forEach(link => menu.appendChild(link));
    });

    // Nav drawer script
    const btn     = document.getElementById('navToggle');
    const scrim   = document.getElementById('mobileScrim');
    const drawer  = document.getElementById('mobileDrawer');
    const close   = document.getElementById('drawerClose');
    const dstUL   = document.getElementById('drawerLinks');

    function openMenu(){ body.classList.add('menu-open'); btn?.setAttribute('aria-expanded','true'); drawer?.setAttribute('aria-hidden','false'); }
    function closeMenu(){ body.classList.remove('menu-open'); btn?.setAttribute('aria-expanded','false'); drawer?.setAttribute('aria-hidden','true'); }

    btn?.addEventListener('click', () => body.classList.contains('menu-open') ? closeMenu() : openMenu());
    close?.addEventListener('click', closeMenu);
    scrim?.addEventListener('click', closeMenu);
    window.addEventListener('keydown', e => { if (e.key === 'Escape') closeMenu(); });
    window.matchMedia('(min-width: 981px)').addEventListener('change', e => { if (e.matches) closeMenu(); });

    // Build accordion from desktop nav
    const srcUL = document.querySelector('#navbar .nav-links');
    if (!srcUL || !dstUL) return;

    dstUL.innerHTML = '';

    [...srcUL.children].forEach(li => {
      const item = document.createElement('li');
      const topLink = li.querySelector(':scope > a');
      const dropdown = li.querySelector(':scope .dropdown-menu');

      if (dropdown) {
        const title = (topLink?.textContent || '').trim() || 'Menu';
        const btnHdr = document.createElement('button');
        btnHdr.className = 'acc-btn';
        btnHdr.type = 'button';
        btnHdr.setAttribute('aria-expanded', 'false');
        btnHdr.textContent = title;

        const panel = document.createElement('div');
        panel.className = 'acc-panel';

        const links = dropdown.querySelectorAll('a');
        links.forEach(a => {
          const cloneA = a.cloneNode(true);
          cloneA.removeAttribute('style');
          cloneA.className = '';
          panel.appendChild(cloneA);
        });

        item.appendChild(btnHdr);
        item.appendChild(panel);
      } else if (topLink) {
        const a = topLink.cloneNode(true);
        a.removeAttribute('style');
        a.className = 'toplink';
        item.appendChild(a);
      }

      dstUL.appendChild(item);
    });

    // Toggle logic
    dstUL.addEventListener('click', (e) => {
      const btnHdr = e.target.closest('.acc-btn');
      if (!btnHdr) return;

      const panel = btnHdr.nextElementSibling;
      const isOpen = btnHdr.getAttribute('aria-expanded') === 'true';

      dstUL.querySelectorAll('.acc-btn[aria-expanded="true"]').forEach(b => {
        if (b !== btnHdr) {
          b.setAttribute('aria-expanded','false');
          const p = b.nextElementSibling;
          p?.classList.remove('open');
          p?.style.removeProperty('max-height');
        }
      });

      btnHdr.setAttribute('aria-expanded', String(!isOpen));
      if (!isOpen) {
        panel.classList.add('open');
        panel.style.maxHeight = panel.scrollHeight + 'px';
      } else {
        panel.classList.remove('open');
        panel.style.maxHeight = '0px';
      }
    });

    window.addEventListener('resize', () => {
      dstUL.querySelectorAll('.acc-btn[aria-expanded="true"]').forEach(b => {
        const p = b.nextElementSibling;
        if (p) p.style.maxHeight = p.scrollHeight + 'px';
      });
    });
  }
</script>

<!-- Link navbar styles from index.html -->
<link rel="stylesheet" href="css/all.min.css">
<link rel="stylesheet" href="css/uga-branding.css">
<style>
@import url('https://fonts.googleapis.com/css2?family=Oswald:wght@400;600;700&family=Merriweather:wght@400;700&family=Montserrat:wght@400;600&display=swap');

:root {
  --uga-red: #BA0C2F;
  --uga-grey: #4A4A4A;
  --white: #ffffff;
  --light-grey: #f4f4f4;
  --dark-blue: #0A2342;
  --dark-grey-text: #333333;
  --dark-grey: #3e3e3e;
  --tan: #d6d2c4;
  --wrap-max: 1600px;
}

/* Navbar Styles - Interior pages use white background from start */
.navbar {
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: white;
  padding: 5px 0px 5px 0px;
  box-shadow: 0px 0px 4px rgba(0, 0, 0, .7);
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  gap: 40px;
  z-index: 1000;
  box-sizing: border-box;
  font-family: 'Oswald', sans-serif;
  font-size: 14px;
  font-weight: 300;
}

.navbar-left .uga-logo {
  height: 70px;
  width: auto;
}

.nav-links {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  flex: 1 1 auto;
}

.nav-links li {
  position: relative;
  margin: 0 10px;
}

.nav-links a {
  text-decoration: none;
  color: black;
  font-weight: 400;
  font-size: 1.3em;
  padding: 10px;
  display: block;
  text-shadow: none;
  transition: .3s ease;
}

.nav-links a:hover,
.nav-links li:hover > a {
  background-color: var(--uga-red);
  color: white;
}

.nav-links li:hover .dropdown-menu {
  opacity: 1;
  visibility: visible;
}

.dropdown-menu {
  position: fixed;
  background-color: white;
  min-width: 180px;
  box-shadow: 0 8px 16px rgba(0,0,0,0.2);
  z-index: 1;
  border-top: 3px solid var(--uga-red);
  padding: 10px 0;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-auto-rows: auto;
  column-gap: 0rem;
  row-gap: 0;
}

.dropdown-menu::before {
  content: "";
  position: absolute;
  top: 10px;
  bottom: 10px;
  left: 50%;
  width: 1px;
  background-color: #F0F0F0;
}

.nav-links li:nth-child(6) .dropdown-menu {
  grid-template-columns: 1fr;
}

.nav-links li:nth-child(6) .dropdown-menu::before {
  content: none;
}

.dropdown-menu a {
  color: black;
  padding: 10px 20px;
  text-decoration: none;
  display: block;
  white-space: nowrap;
  text-shadow: none;
  font-size: 1em;
  font-family: "Montserrat", sans-serif;
  transition: background-color 0.1s ease, color 0.1s ease;
}

.dropdown-menu a:hover {
  background-color: #F0F0F0;
}

.navbar-right {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 0 0 auto;
  margin-left: auto;
}

.search-icon {
  font-size: 1.3em;
  color: black;
  cursor: pointer;
  transition: color 0.3s ease;
}

.search-icon:hover {
  color: var(--uga-red);
}

.wrap {
  max-width: 1800px;
  margin-inline: auto;
  padding-inline: clamp(16px, 2vw, 32px);
  width: 100%;
  box-sizing: border-box;
}

.navbar > .wrap {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: clamp(12px, 3vw, 40px);
}

.navbar-left {
  display: flex;
  align-items: center;
  flex: 0 0 auto;
}

.navbar-left .uga-logo {
  height: 70px;
  width: auto;
  flex: 0 0 auto;
  object-fit: contain;
}

/* Menu button */
.menu-btn {
  display: none;
  align-items: center;
  gap: 8px;
  background: #BA0C2F;
  color: #fff;
  font-family: "Merriweather", serif;
  font-weight: 700;
  letter-spacing: .2px;
  padding: 8px 14px;
  border: 0;
  border-radius: 2px;
  cursor: pointer;
}

.menu-btn:focus-visible {
  outline: 2px solid #000;
  outline-offset: 2px;
}

.menu-btn .menu-icon {
  position: relative;
  display: inline-block;
  width: 16px;
  height: 12px;
  flex: 0 0 16px;
  background: linear-gradient(#fff,#fff) center 5px / 100% 2px no-repeat;
}

.menu-btn .menu-icon::before,
.menu-btn .menu-icon::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  height: 2px;
  background: #fff;
}

.menu-btn .menu-icon::before {
  top: 0;
}

.menu-btn .menu-icon::after {
  bottom: 0;
}

/* Mobile styles */
@media (max-width: 980px) {
  .menu-btn {
    display: inline-flex;
  }

  .nav-links {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    display: none;
    flex-direction: column;
    background: white;
    border-top: 1px solid rgba(0,0,0,.08);
    max-height: 70vh;
    overflow-y: auto;
    padding: 8px 0;
    z-index: 1001;
  }

  #navbar.open .nav-links {
    display: flex;
  }

  .nav-links li {
    margin: 0;
  }

  .nav-links a {
    display: block;
    padding: 12px 16px;
    font-size: 1.05em;
    background: transparent;
    color: black;
  }

  .dropdown-menu {
    position: static !important;
    opacity: 1 !important;
    visibility: visible !important;
    box-shadow: none !important;
    border-top: none !important;
    padding: 0 !important;
    grid-template-columns: 1fr !important;
  }

  .dropdown-menu::before {
    content: none !important;
  }
}

/* Slide-in drawer */
.scrim {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.4);
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s ease;
  z-index: 2000;
}

.drawer {
  position: fixed;
  top: 0;
  right: 0;
  height: 100dvh;
  width: min(92vw, 420px);
  background: #fff;
  color: #111;
  box-shadow: -4px 0 18px rgba(0,0,0,.25);
  transform: translateX(100%);
  transition: transform .25s ease;
  z-index: 2001;
  display: flex;
  flex-direction: column;
}

.drawer-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 16px;
  border-bottom: 1px solid #eee;
}

.drawer-title {
  font: 600 1.4rem/1 "Merriweather", serif;
}

.drawer-close {
  background: transparent;
  border: 0;
  font-size: 28px;
  line-height: 1;
  cursor: pointer;
}

.drawer-body {
  padding: 10px 8px 24px 8px;
  overflow: auto;
}

.drawer-links {
  list-style: none;
  margin: 0;
  padding: 0;
}

.drawer-links > li {
  border-bottom: 1px solid #f1f1f1;
}

.drawer-links a {
  display: block;
  padding: 14px 14px;
  color: #111;
  text-decoration: none;
  font: 400 1rem/1.3 "Montserrat", system-ui, sans-serif;
}

.drawer-links a:hover {
  background: #f7f7f7;
}

body.menu-open .scrim {
  opacity: 1;
  pointer-events: auto;
}

body.menu-open .drawer {
  transform: translateX(0);
}

.drawer-links .acc-btn {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 16px;
  background: #fff;
  color: #111;
  border: 0;
  cursor: pointer;
  font: 400 1.5rem/1.3 "Oswald", sans-serif;
  text-align: left;
}

.drawer-links .acc-btn:focus-visible {
  outline: 2px solid #BA0C2F;
  outline-offset: 2px;
}

.drawer-links .acc-btn::after {
  content: "";
  width: 10px;
  height: 10px;
  margin-left: 10px;
  border-right: 2px solid #666;
  border-bottom: 2px solid #666;
  transform: rotate(-45deg);
  transition: transform .2s ease;
}

.drawer-links .acc-btn[aria-expanded="true"]::after {
  transform: rotate(45deg);
}

.drawer-links .acc-panel {
  overflow: hidden;
  max-height: 0;
  transition: max-height .25s ease, opacity .2s ease;
  opacity: .0;
}

.drawer-links .acc-panel.open {
  opacity: 1;
}

.drawer-links .acc-panel a {
  display: block;
  padding: 12px 16px;
  margin-left: 1rem;
  color: #111;
  text-decoration: none;
  font: 400 .9rem/1.35 "Montserrat", system-ui, sans-serif;
}

.drawer-links .acc-panel a:hover {
  background: #cfcfcf;
}

.drawer-links .toplink {
  display: block;
  padding: 14px 16px;
  color: #111;
  text-decoration: none;
  font: 600 1rem/1.3 "Merriweather", serif;
}

.drawer-links .toplink:hover {
  background: #f7f7f7;
}
</style>

</body>
</html>
